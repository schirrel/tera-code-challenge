<template>
  <div class="loading-overlay" v-bind:class="{ hide: !loading }">
    <div class="animation">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="Capa_1"
        enable-background="new 0 0 497 497"
        height="512"
        viewBox="0 0 497 497"
        width="512"
      >
        <g>
          <path
            d="m408.15 413.549h-159.65v-198.98h214.57c-11.9 64.68 54.24 141.5-54.92 198.98z"
            fill="#ffb29c"
          ></path>
          <path
            d="m248.5 214.569v198.98h-159.65c-109.16-57.48-43.02-134.3-54.92-198.98z"
            fill="#ff8e71"
          ></path>
          <path
            d="m463.066 214.567c0-118.313-96.254-214.567-214.567-214.567-118.312 0-214.567 96.254-214.567 214.567z"
            fill="#ffb29c"
          ></path>
          <path
            d="m125.705 214.567c1.482-81.75 35.847-157.702 93.812-212.602-104.654 14.194-185.585 104.118-185.585 212.602h91.765z"
            fill="#ff8e71"
          ></path>
          <circle cx="426.899" cy="213.534" fill="#ffcabd" r="43.983"></circle>
          <path
            d="m417.5 163.465c-4.528-15.179-17.83-26.109-33.593-27.663-79.182-7.803-124.498-33.944-147.56-52.77-10.659-8.701-26.368-6.894-34.705 4.052-24.81 32.577-59.972 45.177-90.225 49.393-15.134 2.109-27.655 12.882-32.008 27.529-4.739 15.943-7.272 32.812-7.242 50.25-.168 97.024 78.993 176.474 176.017 176.643 97.531.171 176.648-78.842 176.648-176.333v-.623c0-17.542-2.562-34.486-7.332-50.478z"
            fill="#ffdcce"
          ></path>
          <path
            d="m125.697 214.567h.008c.528-29.106 5.244-57.469 13.69-84.417-9.492 3.057-18.953 5.069-27.977 6.327-15.134 2.109-27.655 12.882-32.008 27.529-.611 2.055-1.183 4.126-1.72 6.21-2.467-.429-5-.666-7.589-.666-24.291 0-43.983 19.691-43.983 43.982s19.692 43.983 43.983 43.983c2.466 0 4.882-.213 7.238-.603 12.165 48.913 44.885 89.92 88.38 113.219-26.554-45.981-41.046-99.198-40.022-155.564z"
            fill="#ffcabd"
          ></path>
          <ellipse
            cx="155.826"
            cy="257.871"
            fill="#ff8d9d"
            rx="34.195"
            ry="27.231"
          ></ellipse>
          <ellipse
            cx="341.173"
            cy="257.871"
            fill="#ff8d9d"
            rx="34.195"
            ry="27.231"
          ></ellipse>
          <ellipse
            cx="248.499"
            cy="236.948"
            fill="#423e4f"
            rx="18.151"
            ry="20.312"
            id="mouth"
            style="
              /* transform: skewX(10deg) translateX(-30px); */
              /* transition: 200ms ease; */
            "
          ></ellipse>
          <g>
            <path
              d="m161.542 232.51c-4.142 0-7.5-3.358-7.5-7.5v-13.263c0-4.142 3.358-7.5 7.5-7.5s7.5 3.358 7.5 7.5v13.263c0 4.143-3.358 7.5-7.5 7.5z"
              fill="#423e4f"
              class="eye"
            ></path>
          </g>
          <g>
            <path
              d="m335.457 232.51c-4.142 0-7.5-3.358-7.5-7.5v-13.263c0-4.142 3.358-7.5 7.5-7.5s7.5 3.358 7.5 7.5v13.263c0 4.143-3.358 7.5-7.5 7.5z"
              fill="#423e4f"
              class="eye"
            ></path>
          </g>
          <path
            d="m251.473 461.314 80.807-29.649c9.48-3.478 15.781-12.503 15.781-22.6v-109.286c0-16.736-16.655-28.365-32.366-22.6l-67.195 24.655-67.195-24.655c-15.712-5.765-32.366 5.865-32.366 22.6v109.285c0 10.098 6.302 19.122 15.781 22.6l80.807 29.649h5.946z"
            fill="#eeedff"
          ></path>
          <path
            d="m365.63 331.808v109.288c0 10.096-6.303 19.127-15.779 22.599l-80.808 29.657c-6.634 2.428-13.589 3.648-20.543 3.648l-38.217-83.719 38.217-75.51c4.547 0 9.083-.796 13.413-2.377l71.353-26.185c15.706-5.756 32.364 5.869 32.364 22.599z"
            fill="#95d9da"
          ></path>
          <path
            d="m248.499 337.77v159.23c-6.954 0-13.909-1.219-20.543-3.648l-80.808-29.657c-9.476-3.472-15.779-12.504-15.779-22.599v-109.288c0-16.73 16.658-28.355 32.365-22.599l71.353 26.185c4.329 1.581 8.866 2.376 13.412 2.376z"
            fill="#7dbebf"
          ></path>
          <g fill="#b18ae3">
            <path
              d="m351.921 7.36c-15.415-9.905-27.105-.826-36.413 13.66-9.308 14.485-12.71 28.892 2.705 38.797s35.457 6.192 44.765-8.293c9.308-14.487 4.358-34.259-11.057-44.164z"
              fill="#95d9da"
            ></path>
            <path
              d="m427.354 55.832c-15.415-9.905-35.457-6.192-44.765 8.293s-4.358 34.258 11.057 44.164 27.105.825 36.413-13.66c9.308-14.486 12.71-28.892-2.705-38.797z"
              fill="#95d9da"
            ></path>
            <path
              d="m331.957 15.302c0-3.776.434-7.449 1.229-10.985-6.755 2.455-12.576 8.762-17.678 16.703-9.308 14.485-12.71 28.892 2.705 38.797 12.564 8.074 28.201 7.097 38.596-1.383-14.857-8.635-24.852-24.711-24.852-43.132z"
              fill="#95d9da"
            ></path>
          </g>
          <path
            d="m323.661 10.677c-2.912 2.867-5.622 6.402-8.154 10.342-9.308 14.485-12.71 28.892 2.705 38.797 13.028 8.372 29.36 7.014 39.725-2.352-18.747-7.916-32.32-25.667-34.276-46.787z"
            fill="#95d9da"
          ></path>
          <path
            d="m388.225 40.234-5.857-3.764c-10.454-6.718-24.374-3.689-31.092 6.765l-.699 1.088c-6.718 10.454-3.689 24.374 6.765 31.092l5.857 3.764c10.454 6.717 24.374 3.688 31.092-6.766l.699-1.088c6.718-10.454 3.689-24.374-6.765-31.091z"
            fill="#7dbebf"
          ></path>
          <path
            d="m166.141 382.771c0-37.07 11.613-71.424 31.388-99.639l-16.224-5.953c-15.712-5.765-32.366 5.865-32.366 22.601v109.285c0 10.097 6.302 19.122 15.781 22.6l9.454 3.469c-5.214-16.526-8.033-34.115-8.033-52.363z"
            fill="#d3d3ff"
          ></path>
          <path
            d="m166.141 382.771c0-24.002 4.865-46.868 13.663-67.665l-16.07-5.897c-15.707-5.756-32.365 5.87-32.365 22.599v109.288c0 10.096 6.303 19.127 15.779 22.599l50.172 18.414c-19.647-28.159-31.179-62.399-31.179-99.338z"
            fill="#95d9da"
          ></path>
          <path
            d="m117.024 385.377c-15.559 0-28.172 12.613-28.172 28.172v18.428c0 15.559 12.613 28.172 28.172 28.172 20.648 0 37.386-16.738 37.386-37.386 0-20.648-16.738-37.386-37.386-37.386z"
            fill="#ffdcce"
          ></path>
          <path
            d="m379.975 385.377c15.559 0 28.172 12.613 28.172 28.172v18.428c0 15.559-12.613 28.172-28.172 28.172-20.648 0-37.386-16.738-37.386-37.386 0-20.648 16.738-37.386 37.386-37.386z"
            fill="#ffdcce"
          ></path>
          <path
            d="m101.917 393.586c0-1.32.066-2.623.165-3.917-7.945 4.981-13.231 13.811-13.231 23.88v18.428c0 15.559 12.613 28.172 28.172 28.172 12.696 0 23.906-6.334 30.663-16.008-25.693-2.529-45.769-24.196-45.769-50.555z"
            fill="#ffcabd"
          ></path>
          <path
            d="m353.172 396.712c-6.546 6.733-10.583 15.918-10.583 26.051 0 20.648 16.738 37.386 37.386 37.386 13.222 0 24.311-9.11 27.346-21.395-25.862-.55-47.511-18.163-54.149-42.042z"
            fill="#ffcabd"
          ></path>
        </g>
      </svg>
    </div>
  </div>
</template>

<script>
import { watchRequests } from "../services/api";
export default {
  name: "Loading",
  data() {
    return {
      loading: false,
    };
  },
  mounted() {
    const _this = this;
    watchRequests((isLoading) => {
      _this.loading = isLoading;
    });
  },
};
</script>

<style>
.eye {
  transform: translateX(40px);
  animation-name: readingEyeAnimation;
  animation-duration: 2s;
  animation-iteration-count: infinite;
}

@keyframes readingEyeAnimation {
  0%,
  100% {
    transform: translateX(10px);
  }
  50% {
    transform: translateX(-10px);
  }
}
.animation > svg {
  max-height: 30vh !important;
}
.loading-overlay {
  position: fixed;
  padding: 0;
  margin: 0;
  min-width: 100vw;
  min-height: 100vh;
  top: 0;
  background: rgba(0, 0, 0, 0.7);
  transition: background 300ms ease;
  z-index: 99999;
  display: flex;
  align-content: center;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}
.loading-overlay {
  position: absolute;
  z-index: 9999;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
}

.hide {
  background: transparent;
  opacity: 0;
  margin: 0;
  min-width: 0 !important;
  min-height: 0 !important;
  height: 0 !important;
  width: 0 !important;
  padding: 0;
  overflow: hidden;
}
</style>